import{r as m,j as e,m as n,w as q,X as D,d as h,U as u,f as b,F as p,I as v,A as G,aW as W,W as Y,g as H,h as L,i as X,k as z,D as w,l as f,T as $,C as J,G as K,n as O,o as Q}from"./ui-vendor-DQZCqp4T.js";import{u as Z,g as y}from"./index-C4SVGwdF.js";import"./react-vendor-QxjEytrN.js";import"./data-vendor-wxR4B97s.js";const k=i=>y(i),V=[],se=({onClose:i,setCurrentView:d})=>{const{theme:r}=Z(),[c,o]=m.useState(V),[g,_]=m.useState("all"),[j,A]=m.useState({}),C=[{id:"all",label:"All",icon:h,color:"bg-gradient-to-r from-gray-500 to-gray-600"},{id:"community",label:"Enter Circles",icon:u,color:"bg-gradient-to-r from-purple-500 to-purple-600"},{id:"friends",label:"Friends",icon:b,color:"bg-gradient-to-r from-blue-500 to-blue-600"},{id:"project",label:"Project",icon:p,color:"bg-gradient-to-r from-green-500 to-green-600"},{id:"system",label:"System",icon:v,color:"bg-gradient-to-r from-orange-500 to-orange-600"}],N=c.filter(t=>!t.read).length,x=c.filter(t=>g==="all"?!0:t.category===g),E=t=>{o(a=>a.find(l=>l.id===t)?.read?a:a.map(l=>l.id===t?{...l,read:!0}:l))},S=()=>{o(t=>t.some(s=>!s.read)?t.map(s=>({...s,read:!0})):t)},I=t=>{o(a=>a.filter(s=>s.id!==t))},T=()=>{o([])},U=t=>{A({...j,[t]:!j[t]}),E(t)},F=t=>{if(t.icon){const a=t.icon;return e.jsx(a,{className:"w-6 h-6"})}switch(t.type){case"investment":return e.jsx(w,{className:"w-6 h-6"});case"return":return e.jsx($,{className:"w-6 h-6"});case"perk":return e.jsx(K,{className:"w-6 h-6"});case"event":return e.jsx(J,{className:"w-6 h-6"});case"funding":return e.jsx($,{className:"w-6 h-6"});case"message":return e.jsx(f,{className:"w-6 h-6"});case"system":return e.jsx(v,{className:"w-6 h-6"});case"friend_joined":return e.jsx(b,{className:"w-6 h-6"});case"friend_request":return e.jsx(b,{className:"w-6 h-6"});case"friend_message":return e.jsx(f,{className:"w-6 h-6"});case"friend_investment":return e.jsx(w,{className:"w-6 h-6"});case"friend_recommendation":return e.jsx(z,{className:"w-6 h-6"});case"friend_activity":return e.jsx(X,{className:"w-6 h-6"});case"channel_update":return e.jsx(L,{className:"w-6 h-6"});case"community_event":return e.jsx(u,{className:"w-6 h-6"});case"achievement":return e.jsx(H,{className:"w-6 h-6"});default:return e.jsx(h,{className:"w-6 h-6"})}},R=(t,a)=>{if(a==="community")switch(t){case"friend_joined":return r==="light"?"bg-purple-100 text-purple-600":"bg-purple-900/30 text-purple-400";case"channel_update":return r==="light"?"bg-indigo-100 text-indigo-600":"bg-indigo-900/30 text-indigo-400";case"friend_investment":return r==="light"?"bg-cyan-100 text-cyan-600":"bg-cyan-900/30 text-cyan-400";case"community_event":return r==="light"?"bg-orange-100 text-orange-600":"bg-orange-900/30 text-orange-400";case"achievement":return r==="light"?"bg-yellow-100 text-yellow-600":"bg-yellow-900/30 text-yellow-400";default:return r==="light"?"bg-purple-100 text-purple-600":"bg-purple-900/30 text-purple-400"}if(a==="friends")switch(t){case"friend_request":return r==="light"?"bg-blue-100 text-blue-600":"bg-blue-900/30 text-blue-400";case"friend_message":return r==="light"?"bg-pink-100 text-pink-600":"bg-pink-900/30 text-pink-400";case"friend_recommendation":return r==="light"?"bg-emerald-100 text-emerald-600":"bg-emerald-900/30 text-emerald-400";case"friend_activity":return r==="light"?"bg-teal-100 text-teal-600":"bg-teal-900/30 text-teal-400";default:return r==="light"?"bg-blue-100 text-blue-600":"bg-blue-900/30 text-blue-400"}if(a==="project")switch(t){case"investment":return r==="light"?"bg-green-100 text-green-600":"bg-green-900/30 text-green-400";case"return":return r==="light"?"bg-emerald-100 text-emerald-600":"bg-emerald-900/30 text-emerald-400";case"perk":return r==="light"?"bg-amber-100 text-amber-600":"bg-amber-900/30 text-amber-400";case"event":return r==="light"?"bg-violet-100 text-violet-600":"bg-violet-900/30 text-violet-400";case"system":return r==="light"?"bg-gray-100 text-gray-600":"bg-gray-900/30 text-gray-400";case"funding":return r==="light"?"bg-indigo-100 text-indigo-600":"bg-indigo-900/30 text-indigo-400";case"message":return r==="light"?"bg-rose-100 text-rose-600":"bg-rose-900/30 text-rose-400";default:return r==="light"?"bg-green-100 text-green-600":"bg-green-900/30 text-green-400"}return r==="light"?"bg-gray-100 text-gray-600":"bg-gray-900/30 text-gray-400"},B=t=>{switch(t){case"film":return e.jsx(p,{className:"w-4 h-4"});case"music":return e.jsx(Q,{className:"w-4 h-4"});case"webseries":return e.jsx(O,{className:"w-4 h-4"});default:return e.jsx(p,{className:"w-4 h-4"})}},M=()=>{d?d("home"):i&&i()};return e.jsx("div",{className:`min-h-screen pt-20 pb-[100px] transition-all duration-[3000ms] ${r==="light"?"bg-gradient-to-br from-gray-50 to-white":"bg-gradient-to-br from-black via-gray-900 to-purple-900"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs(n.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-8",children:[e.jsx("div",{className:"md:hidden mb-4",children:e.jsxs("button",{onClick:M,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r==="light"?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700"}`,children:[e.jsx(q,{className:"w-5 h-5"}),e.jsx("span",{children:"Back"})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl md:text-4xl font-bold mb-2 ${r==="light"?"text-gray-900":"text-white"}`,children:"Notifications"}),e.jsx("p",{className:`text-lg ${r==="light"?"text-gray-600":"text-gray-300"}`,children:"Stay updated with your investments, community, and friends"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${r==="light"?"text-gray-900":"text-white"}`,children:c.length}),e.jsx("div",{className:`text-sm ${r==="light"?"text-gray-600":"text-gray-400"}`,children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-500",children:N}),e.jsx("div",{className:`text-sm ${r==="light"?"text-gray-600":"text-gray-400"}`,children:"Unread"})]})]}),e.jsx("button",{onClick:()=>{i?i():d&&d("home")},className:`p-2 rounded-lg transition-colors ${r==="light"?"text-gray-600 hover:bg-gray-100 hover:text-gray-900":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,title:"Close notifications",children:e.jsx(D,{className:"w-5 h-5"})})]})]})]}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",style:{contentVisibility:"auto",contain:"content"},children:C.map(t=>{const a=t.icon,s=g===t.id,l=t.id==="all"?c.length:c.filter(P=>P.category===t.id).length;return e.jsxs("button",{onClick:()=>_(t.id),className:`group relative px-4 py-3 rounded-xl transition-all duration-300 flex items-center gap-3 flex-shrink-0 ${s?`${t.color} text-white shadow-lg`:r==="light"?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400":"bg-gray-800 text-gray-300 border border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,title:t.label,children:[e.jsx(a,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:t.label}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold min-w-[20px] text-center ${s?"bg-white/20 text-white":r==="light"?"bg-gray-100 text-gray-600":"bg-gray-700 text-gray-300"}`,children:l}),s&&e.jsx(n.div,{className:"absolute inset-0 rounded-xl border-2 border-current opacity-20",layoutId:"activeFilter",transition:{type:"spring",bounce:.2,duration:.6}})]},t.id)})})}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-wrap items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[N>0&&e.jsx("button",{onClick:S,className:`px-4 py-2 rounded-lg transition-colors ${r==="light"?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-purple-900/30 text-purple-400 hover:bg-purple-900/50"}`,children:"Mark all as read"}),e.jsx("button",{onClick:T,className:`px-4 py-2 rounded-lg transition-colors ${r==="light"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-red-900/30 text-red-400 hover:bg-red-900/50"}`,children:"Clear all"})]}),e.jsxs("div",{className:`text-sm ${r==="light"?"text-gray-600":"text-gray-400"}`,children:["Showing ",x.length," of ",c.length," notifications"]})]}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:e.jsx(G,{children:x.length>0?x.map((t,a)=>e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:a*.1},className:`group relative rounded-2xl border transition-all duration-300 hover:shadow-lg ${t.read?r==="light"?"bg-white border-gray-200 hover:border-gray-300":"bg-gray-900/50 border-gray-700 hover:border-gray-600":r==="light"?"bg-purple-50 border-purple-200 hover:border-purple-300":"bg-purple-900/20 border-purple-700 hover:border-purple-600"}`,children:[!t.read&&e.jsx("div",{className:"absolute top-4 left-4 w-2 h-2 bg-red-500 rounded-full"}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`flex-shrink-0 p-3 rounded-xl ${R(t.type,t.category)}`,children:F(t)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsx("h3",{className:`font-semibold ${r==="light"?"text-gray-900":"text-white"}`,children:t.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${r==="light"?"text-gray-500":"text-gray-400"}`,children:t.time}),e.jsx("button",{onClick:()=>I(t.id),className:`p-1 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 ${r==="light"?"text-gray-400 hover:text-red-500 hover:bg-red-50":"text-gray-500 hover:text-red-400 hover:bg-red-900/30"}`,children:e.jsx(W,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:`mb-3 ${r==="light"?"text-gray-600":"text-gray-300"}`,children:t.message}),(t.user||t.project||t.channel||t.event||t.achievement)&&e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.user&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:t.user.avatar||y(t.user.name),alt:t.user.name,className:"w-6 h-6 rounded-full object-cover",onError:s=>{const l=s.currentTarget;l.src=y(t.user?.name||"You")}}),e.jsx("span",{className:`text-sm font-medium ${r==="light"?"text-gray-700":"text-gray-300"}`,children:t.user.name})]}),t.project&&e.jsxs("div",{className:"flex items-center gap-2",children:[B(t.project.type),e.jsx("span",{className:`text-sm font-medium ${r==="light"?"text-gray-700":"text-gray-300"}`,children:t.project.title})]}),t.channel&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:t.channel.avatar||k(t.channel.name),alt:t.channel.name,className:"w-6 h-6 rounded-full object-cover",onError:s=>{const l=s.currentTarget;l.src=k(t.channel?.name||"EnterCircles")}}),e.jsx("span",{className:`text-sm font-medium ${r==="light"?"text-gray-700":"text-gray-300"}`,children:t.channel.name})]}),t.event&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{className:`text-sm font-medium ${r==="light"?"text-gray-700":"text-gray-300"}`,children:t.event.title}),e.jsxs("span",{className:`text-xs ${r==="light"?"text-gray-500":"text-gray-400"}`,children:["(",t.event.attendees," attending)"]})]}),t.achievement&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:t.achievement.icon}),e.jsx("span",{className:`text-sm font-medium ${r==="light"?"text-gray-700":"text-gray-300"}`,children:t.achievement.name})]})]}),e.jsxs("button",{onClick:()=>U(t.id),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r==="light"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[t.action,e.jsx(Y,{className:"w-4 h-4"})]})]})]})})]},t.id)):e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`text-center py-12 rounded-2xl ${r==="light"?"bg-white border border-gray-200":"bg-gray-900/50 border border-gray-700"}`,children:[e.jsx(h,{className:`w-12 h-12 mx-auto mb-4 ${r==="light"?"text-gray-400":"text-gray-500"}`}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${r==="light"?"text-gray-900":"text-white"}`,children:"No notifications"}),e.jsx("p",{className:`${r==="light"?"text-gray-600":"text-gray-400"}`,children:g==="all"?"You're all caught up! No new notifications.":`No ${g} notifications at the moment.`})]})})})]})})};export{se as default};
